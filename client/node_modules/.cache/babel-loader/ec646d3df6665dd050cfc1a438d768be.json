{"ast":null,"code":"import axios from 'axios';\nimport serverURL from './configServer';\nvar service = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:5000/api',\n  withCredentials: true\n});\n\nvar errHandler = function errHandler(err) {\n  console.error(err);\n\n  if (err.response && err.response.data) {\n    console.error('API response', err.response.data);\n    throw err.response.data.message;\n  }\n\n  throw err;\n};\n\nexport default {\n  service: service,\n  // This method is synchronous and returns true or false\n  // To know if the user is connected, we just check if we have a value for localStorage.getItem('user')\n  isLoggedIn: function isLoggedIn() {\n    return localStorage.getItem('user') != null;\n  },\n  // This method returns the user from the localStorage\n  // Be careful, the value is the one when the user logged in for the last time\n  getLocalStorageUser: function getLocalStorageUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  },\n  // This method signs up and logs in the user\n  signup: function signup(userInfo) {\n    return service.post('/signup', userInfo).then(function (res) {\n      // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n      localStorage.setItem('user', JSON.stringify(res.data));\n      return res.data;\n    }).catch(errHandler);\n  },\n  login: function login(username, password) {\n    console.log(\"LOGGING IN ATTEMPT\", username, password);\n    return service.post('/login', {\n      username: username,\n      password: password\n    }).then(function (res) {\n      // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n      localStorage.setItem('user', JSON.stringify(res.data));\n      return res.data;\n    }).catch(errHandler);\n  },\n  logout: function logout() {\n    localStorage.removeItem('user');\n    return service.get('/logout');\n  },\n  getBeers: function getBeers() {\n    return service.get('/beers').then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  getBreweries: function getBreweries() {\n    return service.get('/breweries').then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  addCountry: function addCountry(body) {\n    return service.post('/countries', body).then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  getprofile: function getprofile() {\n    return service.get('/profile').then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  getAllUsers: function getAllUsers() {\n    return service.get('/getAllTheUsers').then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  addPicture: function addPicture(file) {\n    var formData = new FormData();\n    formData.append('picture', file);\n    return service.post('/endpoint/to/add/a/picture', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(function (res) {\n      return res.data;\n    }).catch(errHandler);\n  },\n  test: function test() {\n    return service.get('/breweries').then(function (res) {}).catch(errHandler);\n  },\n  getBeer: function getBeer() {\n    return service.get('/breweries/test').then(function (res) {\n      console.log(res);\n    }).catch(errHandler);\n  }\n};","map":{"version":3,"sources":["/Users/effeckt-/Desktop/labs/project-4/mernproject/client/src/api.js"],"names":["axios","serverURL","service","create","baseURL","process","env","NODE_ENV","withCredentials","errHandler","err","console","error","response","data","message","isLoggedIn","localStorage","getItem","getLocalStorageUser","JSON","parse","signup","userInfo","post","then","res","setItem","stringify","catch","login","username","password","log","logout","removeItem","get","getBeers","getBreweries","addCountry","body","getprofile","getAllUsers","addPicture","file","formData","FormData","append","headers","test","getBeer"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport serverURL from './configServer'\n\nconst service = axios.create({\n  baseURL:\n    process.env.NODE_ENV === 'production'\n      ? '/api'\n      : 'http://localhost:5000/api',\n  withCredentials: true,\n})\n\nconst errHandler = err => {\n  console.error(err)\n  if (err.response && err.response.data) {\n    console.error('API response', err.response.data)\n    throw err.response.data.message\n  }\n  throw err\n}\n\nexport default {\n  service: service,\n\n  // This method is synchronous and returns true or false\n  // To know if the user is connected, we just check if we have a value for localStorage.getItem('user')\n  isLoggedIn() {\n    return localStorage.getItem('user') != null\n  },\n\n  // This method returns the user from the localStorage\n  // Be careful, the value is the one when the user logged in for the last time\n  getLocalStorageUser() {\n    return JSON.parse(localStorage.getItem('user'))\n  },\n\n  // This method signs up and logs in the user\n  signup(userInfo) {\n    return service\n      .post('/signup', userInfo)\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem('user', JSON.stringify(res.data))\n        return res.data\n      })\n      .catch(errHandler)\n  },\n\n  login(username, password) {\n    console.log(\"LOGGING IN ATTEMPT\", username, password)\n    return service\n      .post('/login', {\n        username,\n        password,\n      })\n      .then(res => {\n        // If we have localStorage.getItem('user') saved, the application will consider we are loggedin\n        localStorage.setItem('user', JSON.stringify(res.data))\n        return res.data\n      })\n      .catch(errHandler)\n  },\n\n  logout() {\n    localStorage.removeItem('user')\n    return service.get('/logout')\n  },\n\n  getBeers() {\n    return service\n      .get('/beers')\n      .then(res => res.data)\n      .catch(errHandler)\n  },\n\n  getBreweries(){\n    return service\n      .get('/breweries')\n      .then(res => res.data)\n      .catch(errHandler)\n  },\n\n  addCountry(body) {\n    return service\n      .post('/countries', body)\n      .then(res => res.data)\n      .catch(errHandler)\n  },\n\n  getprofile() {\n    return service\n      .get('/profile')\n      .then(res => res.data)\n      .catch(errHandler)\n  },\n\n  getAllUsers() {\n    return service\n    .get('/getAllTheUsers')\n    .then(res => res.data)\n    .catch(errHandler)\n  },\n\n  addPicture(file) {\n    const formData = new FormData()\n    formData.append('picture', file)\n    return service\n      .post('/endpoint/to/add/a/picture', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then(res => res.data)\n      .catch(errHandler)\n  },\n\n  test(){\n    return service\n    .get('/breweries')\n    .then(res => {\n    })\n    .catch(errHandler)\n  },\n\n  getBeer(){\n   return service.get('/breweries/test')\n    .then(res => {\n      console.log(res)\n    })\n    .catch(errHandler)\n  }\n\n\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}